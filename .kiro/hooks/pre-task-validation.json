{
  "name": "Validação Pré-Tarefa",
  "version": "1.0.0",
  "description": "Valida checklist obrigatório antes de iniciar qualquer tarefa: verificação de banco real, leitura de arquivos relacionados e identificação de padrões existentes",
  "when": {
    "type": "promptSubmit"
  },
  "then": {
    "type": "askAgent",
    "prompt": "CHECKLIST OBRIGATÓRIO ANTES DE INICIAR:\n\n1. BANCO DE DADOS REAL:\n   - Se a tarefa envolve queries ou análise de banco, DEVO usar Supabase Power para consultar schema real\n   - NUNCA confiar apenas em arquivos de migration\n   - Validar estrutura real com list_tables e execute_sql\n\n2. ARQUIVOS RELACIONADOS:\n   - Li TODOS os arquivos relacionados à tarefa?\n   - Entendi EXATAMENTE o que precisa ser implementado?\n   - Identifiquei dependências e integrações necessárias?\n\n3. PADRÕES EXISTENTES:\n   - Verifiquei padrões de código existentes no projeto?\n   - Identifiquei estruturas similares para seguir?\n   - Planejei a implementação baseada em padrões existentes?\n\nSe algum item NÃO foi verificado, DEVO fazer isso ANTES de implementar."
  }
}
